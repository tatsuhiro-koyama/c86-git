# About Version Control

まずは、バージョン管理の必要性について説明していきます。
なぜバージョン管理が必要なのでしょうか。バージョン管理を行うことについては既に仕事でものを作っている人にとっては当たり前のことかもしれませんが、改めて見直してみましょう。

## バージョンの管理

それが文章でプログラムであれ、あれ何かものを作っていく際には余程小さな規模のものでない限りいっぺんに作り上げられることは稀です。また、例え一度に作り上げたとしても、後から直したくなることはざらにあることでしょう。

そのような時に要所要所での作業を記録として残しておく、それがバージョン管理の基本的な考え方です。

## 手動で行うバージョン管理

もっとも素朴なバージョン管理手法としては、ファイル名を以てそれがいつの時点のものかを判断することが挙げられます。ただこの場合、最初にきちんとファイルの命名規則を決めておかないと大変なことになることは想像に容易いでしょう。すなわち、`原稿.txt`、`原稿(修正版).txt`、`原稿(訂正版).txt`、`原稿(最新版).txt`のような名前の付け方では果たしてどれが必要としている時点での原稿のファイルなのか分からなくなってしまうのです。

そこで、ファイルの命名を規則的にすることを考えましょう。すなわち、`原稿20140602.txt`、`原稿20140616.txt`のように日付をファイル名の中に入れるのです。

これはなかなか良いアイデアのように思えます。実際、単一のファイルを管理する上ではこの手法でも十分に通用するでしょう。

ただ、この方法にもいくつか欠点が見つかります。まず、あくまで単一のファイルの管理にしか使えないこと、次にどのような変更をしたのかの情報が得られないこと、そして、誤って違うファイルを変更してしまう危険があることです。

単一のファイルの変更にしか使えないことは原稿が複数の部分で構成されるような場合、一ファイルが大きくなりすぎないよう、（例えば章単位で区切るなど）複数のファイルをもって構成したいと思うのはごく自然なことです。そのような場合、`第一章20140602.txt`、`第二章20140627.txt`のようなファイルが出てくることになるでしょうが、各々のファイルがどのような関係にあるのがもちろん、変更の都度、`**20140703.txt`のように同じ接尾語をつけるという考え方もありますがただ第一章の内容だけを変更したのに何の変更もない他の章のコピーを作るのは手間ですし、何よりファイル容量にも優しくありません。

どのような変更をしたのかの情報が得られない、誤って違うファイルを変更してしまう危険がある、というのはそのままの意味で、ただ日付を記録するだけではその意図を汲み取ることはできません（あえて残すべきコンテキストがないということもありますが、それはそれです）。いざ第一章に文章を書いてみたけど、これは第一章よりももっと後の章に書くべきだった、という情報は`第一章20140706.txt`、`第七章20140706.txt`というファイル名からは得られないということです。また、人間である以上、過去の原稿をたどっているうちに変更をしてしまい、もともとどういう内容だったか分からなくなる、ということも存分にあり得ます。


## VCSの機能
以上のような人の手では混乱を招いたり、ミスが起こったりしてしまうことを代行するのがバージョン管理の機能といえます。具体的には、次のような機能を持ちます。

### 作業の進捗を残す
バージョン管理のもっとも肝となる部分です。変更を記録し、いつでも任意の状態にきり戻すことができます。

### 差分をみる
作業の変更を後からみることができます。

## VCSの種類
VCSには、大分して集中型と分散型があります。

### 集中型
バージョンを単一のマシンで管理する方式のもので、Git登場以前より広く使われているSVNなどがこれにあたります。

特徴として、記録した変更履歴は即全てに反映されること、変更を記録するのにネットワーク接続が必要なことが挙げられます。

### 分散型
Gitをはじめとする最近のVCSは分散型を採用していることが多いです。
これはバージョンを管理するマシンが複数台あるものをさします。

特徴として、ネットワーク接続なしに多くの操作が実行できることなどが挙げられます。
